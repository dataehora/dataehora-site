<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7808195997729404"
     crossorigin="anonymous"></script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags -->
    <title>Fusos Hor√°rios do Brasil e do Mundo | dataehora.com.br</title>
    <meta name="description" content="Consulte os fusos hor√°rios do Brasil e do mundo. Veja a hora atual em cada fuso, capitais brasileiras e principais cidades do mundo.">
    <meta name="keywords" content="fusos hor√°rios, fuso hor√°rio brasil, hora certa, UTC, GMT, hor√°rio mundial, bras√≠lia, amaz√¥nia, fernando de noronha">
    <meta name="author" content="dataehora.com.br">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Fusos Hor√°rios do Brasil e do Mundo | dataehora.com.br">
    <meta property="og:description" content="Consulte os fusos hor√°rios do Brasil e do mundo com hor√°rios atualizados em tempo real.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://dataehora.com.br/fusos-horarios/">
    <meta property="og:site_name" content="Data e Hora">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Fusos Hor√°rios do Brasil e do Mundo | dataehora.com.br">
    <meta name="twitter:description" content="Consulte os fusos hor√°rios do Brasil e do mundo com hor√°rios atualizados em tempo real.">
    <meta name="twitter:site" content="@dataehora">
    <meta name="twitter:creator" content="@dataehora">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Fusos Hor√°rios do Brasil e do Mundo",
      "url": "https://dataehora.com.br/fusos-horarios/",
      "description": "Consulte os fusos hor√°rios do Brasil e do mundo com hor√°rios atualizados em tempo real."
    }
    </script>

    <!-- Canonical URL -->
    <link rel="canonical" href="https://dataehora.com.br/fusos-horarios/">
    
    <!-- Favicon and App Icons -->
    <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
    <link rel="icon" type="image/png" href="/assets/favicon.png">
    <link rel="apple-touch-icon" href="/assets/favicon.png">
    
    <!-- Preconnect to external domains for faster loading -->
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4Y5H59FEQE"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-4Y5H59FEQE');
    </script>
    
    <!-- CRITICAL: Inline theme script to prevent FOUC (replaces external theme.js) -->
    <!-- Original source: /js/theme.js - minified inline for performance -->
    <script>
    (function(){document.documentElement.classList.add('no-transition');const saved=localStorage.getItem('theme-pref')||'default';let theme='light';if(saved==='light'||saved==='dark'){theme=saved}else if(saved==='auto'){const h=new Date().getHours();theme=(h<6||h>=18)?'dark':'light'}else{theme=window.matchMedia('(prefers-color-scheme: dark)').matches?'dark':'light'}document.documentElement.setAttribute('data-theme',theme);document.documentElement.style.backgroundColor=theme==='dark'?'#020617':'#f1f5f9';window.themeManager={getTheme:()=>theme,applyTheme:(t)=>{document.documentElement.setAttribute('data-theme',t);document.documentElement.style.backgroundColor=t==='dark'?'#020617':'#f1f5f9'}};window.addEventListener('DOMContentLoaded',function(){requestAnimationFrame(function(){requestAnimationFrame(function(){document.documentElement.classList.remove('no-transition')})})})})();
    </script>

    <style>
        :root {
            --bg-body: #f1f5f9;
            --bg-card: #ffffff;
            --text-main: #0f172a;
            --text-muted: #64748b;
            --accent: #2563eb;
            --border: rgba(148, 163, 184, 0.2);
            --hr-color: var(--border);
            --shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05);
            --input-bg: #f8fafc;
        }

        [data-theme="dark"] {
            --bg-body: #020617;
            --bg-card: #0f172a;
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --accent: #60a5fa;
            --border: rgba(255, 255, 255, 0.05);
            --input-bg: #1e293b;
        }

        * { box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            margin: 0;
            padding: 0 20px 40px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        .container { width: 100%; max-width: 900px; }

        .nav-header {
            width: 100%;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            padding: 12px 16px;
            margin: 20px 0 30px 0;
            font-size: 0.875rem;
            gap: 8px;
            background: var(--bg-card);
            border-radius: 12px;
            border: 1px solid var(--hr-color);
        }
        .nav-link { color: var(--accent); text-decoration: none; font-weight: 700; }
        .nav-sep { color: var(--text-muted); font-weight: 700; }
        .nav-current { color: var(--text-main); font-weight: 700; }

        .header { margin-bottom: 40px; text-align: left; width: 100%; }
        h1 { font-size: clamp(1.8rem, 6vw, 2.8rem); margin: 0; letter-spacing: -1.5px; font-weight: 900; color: var(--text-main); }
        h2 { font-size: clamp(1.3rem, 4vw, 1.8rem); margin: 0 0 25px 0; letter-spacing: -1px; font-weight: 900; color: var(--text-main); }
        .subtitle { color: var(--text-muted); font-size: 1.1rem; margin-top: 5px; font-weight: 500; }

        .section-block {
            background: var(--bg-card);
            border-radius: 28px;
            padding: clamp(25px, 5vw, 40px);
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            width: 100%;
            margin-bottom: 30px;
        }

        /* Brazil timezone map */
        .brazil-map-container {
            width: 100%;
            overflow-x: auto;
            position: relative;
        }

        .brazil-map {
            width: 100%;
            max-width: 520px;
            margin: 0 auto 30px auto;
            display: block;
        }

        /* SVG map styles */
        .tz-state {
            stroke: var(--bg-card);
            stroke-width: 3;
            cursor: pointer;
            transition: opacity 0.15s, filter 0.15s;
        }
        .tz-state:hover { opacity: 0.8; filter: brightness(1.15); }
        .tz-utc5  { fill: #7c3aed; }
        .tz-utc4  { fill: #2563eb; }
        .tz-utc3  { fill: #0891b2; }
        .tz-utc2  { fill: #059669; }
        .tz-label { font-size: 18px; font-weight: 700; fill: white; text-anchor: middle; pointer-events: none; }

        /* Map tooltip */
        .map-tooltip {
            position: fixed;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 10px 14px;
            font-size: 0.82rem;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.15s;
            z-index: 1000;
            box-shadow: 0 4px 16px rgba(0,0,0,0.15);
            max-width: 200px;
            line-height: 1.5;
        }
        .map-tooltip.visible { opacity: 1; }
        .map-tooltip .tt-state { font-weight: 800; font-size: 0.9rem; color: var(--text-main); }
        .map-tooltip .tt-tz { font-weight: 600; color: var(--text-muted); font-size: 0.78rem; }
        .map-tooltip .tt-time { font-weight: 900; font-size: 1.05rem; color: var(--accent); font-variant-numeric: tabular-nums; }

        /* Timezone legend */
        .tz-legend {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 20px;
            justify-content: center;
        }

        .tz-legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            border-radius: 12px;
            background: var(--input-bg);
            border: 1px solid var(--border);
        }

        .tz-dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .tz-legend-item .name { font-weight: 700; font-size: 0.85rem; }
        .tz-legend-item .offset { color: var(--text-muted); font-size: 0.8rem; font-weight: 600; }
        .tz-legend-item .time { font-weight: 900; font-size: 1rem; color: var(--accent); font-variant-numeric: tabular-nums; }

        /* Cities table */
        .cities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
        }

        .tz-group {
            border-radius: 16px;
            border: 2px solid var(--border);
            overflow: hidden;
        }

        .tz-group-header {
            padding: 12px 16px;
            font-weight: 900;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .tz-group-header .clock {
            font-size: 1.1rem;
            font-variant-numeric: tabular-nums;
        }

        .tz-group-body { padding: 8px 0; }

        .city-row {
            padding: 8px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 0.9rem;
            border-bottom: 1px solid var(--border);
        }
        .city-row:last-child { border-bottom: none; }
        .city-name { font-weight: 600; }
        .city-state { color: var(--text-muted); font-size: 0.78rem; }

        /* World timezone table */
        .world-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
            gap: 14px;
        }

        .world-tz-card {
            background: var(--input-bg);
            border-radius: 16px;
            padding: 16px 20px;
            border: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 14px;
        }

        .world-tz-card .flag { font-size: 1.8rem; line-height: 1; }
        .world-tz-card .info { flex: 1; }
        .world-tz-card .city-label { font-weight: 800; font-size: 0.95rem; color: var(--text-main); }
        .world-tz-card .utc-label { font-size: 0.78rem; color: var(--text-muted); font-weight: 600; }
        .world-tz-card .live-time { 
            font-size: 1.3rem; font-weight: 900; 
            color: var(--accent); 
            font-variant-numeric: tabular-nums;
            white-space: nowrap;
        }

        /* Section divider */
        .section-divider {
            height: 1px;
            background: var(--border);
            width: 100%;
            margin: 30px 0;
        }

        footer { margin-top: 60px; text-align: center; color: var(--text-muted); font-size: 0.85rem; font-weight: 700; }
        
        .btn-settings {
            display: inline-block;
            padding: 12px 24px;
            background: var(--bg-card);
            color: var(--text-main);
            text-decoration: none;
            border-radius: 12px;
            font-weight: 700;
            border: 1px solid var(--border);
            transition: transform 0.2s ease;
        }
        .btn-settings:hover { transform: translateY(-2px); }

        @media (max-width: 600px) {
            .header { text-align: center; }
            .nav-header { justify-content: center; }
            .cities-grid { grid-template-columns: 1fr; }
            .world-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <div class="container">
        <nav class="nav-header" aria-label="Navega√ß√£o estrutural">
            <a href="/" class="nav-link">dataehora.com.br</a>
            <span class="nav-sep">/</span>
            <span class="nav-current">Fusos Hor√°rios</span>
        </nav>

        <header class="header">
            <h1>üåê Fusos Hor√°rios</h1>
            <p class="subtitle">Hor√°rios atualizados em tempo real para o Brasil e o mundo.</p>
        </header>

        <!-- BRAZIL SECTION -->
        <section class="section-block">
            <h2>üáßüá∑ Fusos Hor√°rios do Brasil</h2>

            <!-- SVG Map of Brazil Timezones -->
            <!-- Map tooltip -->
            <div class="map-tooltip" id="map-tooltip">
                <div class="tt-state" id="tt-state"></div>
                <div class="tt-tz" id="tt-tz"></div>
                <div class="tt-time" id="tt-time"></div>
            </div>

            <div class="brazil-map-container" id="brazil-map-container">
                <!-- Map loaded dynamically -->
            </div>

            <!-- Legend with live times -->
            <div class="tz-legend">
                <div class="tz-legend-item">
                    <div class="tz-dot" style="background:#7c3aed"></div>
                    <div>
                        <div class="name">Acre</div>
                        <div class="offset">UTC‚àí5</div>
                    </div>
                    <div class="time" id="time-utc5">--:--:--</div>
                </div>
                <div class="tz-legend-item">
                    <div class="tz-dot" style="background:#2563eb"></div>
                    <div>
                        <div class="name">Amaz√¥nia</div>
                        <div class="offset">UTC‚àí4</div>
                    </div>
                    <div class="time" id="time-utc4">--:--:--</div>
                </div>
                <div class="tz-legend-item">
                    <div class="tz-dot" style="background:#0891b2"></div>
                    <div>
                        <div class="name">Bras√≠lia</div>
                        <div class="offset">UTC‚àí3</div>
                    </div>
                    <div class="time" id="time-utc3">--:--:--</div>
                </div>
                <div class="tz-legend-item">
                    <div class="tz-dot" style="background:#059669"></div>
                    <div>
                        <div class="name">Noronha</div>
                        <div class="offset">UTC‚àí2</div>
                    </div>
                    <div class="time" id="time-utc2">--:--:--</div>
                </div>
            </div>

            <div class="section-divider"></div>

            <!-- Cities by timezone -->
            <div class="cities-grid">
                <div class="tz-group">
                    <div class="tz-group-header" style="background:#7c3aed">
                        <span>UTC‚àí5 ¬∑ Acre</span>
                        <span class="clock" id="clock-utc5">--:--</span>
                    </div>
                    <div class="tz-group-body">
                        <div class="city-row"><span class="city-name">Rio Branco</span><span class="city-state">AC (capital)</span></div>
                        <div class="city-row"><span class="city-name">Cruzeiro do Sul</span><span class="city-state">AC</span></div>
                    </div>
                </div>
                <div class="tz-group">
                    <div class="tz-group-header" style="background:#2563eb">
                        <span>UTC‚àí4 ¬∑ Amaz√¥nia</span>
                        <span class="clock" id="clock-utc4">--:--</span>
                    </div>
                    <div class="tz-group-body">
                        <div class="city-row"><span class="city-name">Manaus</span><span class="city-state">AM (capital)</span></div>
                        <div class="city-row"><span class="city-name">Porto Velho</span><span class="city-state">RO (capital)</span></div>
                        <div class="city-row"><span class="city-name">Boa Vista</span><span class="city-state">RR (capital)</span></div>
                        <div class="city-row"><span class="city-name">Cuiab√°</span><span class="city-state">MT (capital)</span></div>
                    </div>
                </div>
                <div class="tz-group">
                    <div class="tz-group-header" style="background:#0891b2">
                        <span>UTC‚àí3 ¬∑ Bras√≠lia</span>
                        <span class="clock" id="clock-utc3">--:--</span>
                    </div>
                    <div class="tz-group-body">
                        <div class="city-row"><span class="city-name">Bras√≠lia</span><span class="city-state">DF (capital federal)</span></div>
                        <div class="city-row"><span class="city-name">S√£o Paulo</span><span class="city-state">SP (capital)</span></div>
                        <div class="city-row"><span class="city-name">Rio de Janeiro</span><span class="city-state">RJ (capital)</span></div>
                        <div class="city-row"><span class="city-name">Belo Horizonte</span><span class="city-state">MG (capital)</span></div>
                        <div class="city-row"><span class="city-name">Salvador</span><span class="city-state">BA (capital)</span></div>
                        <div class="city-row"><span class="city-name">Fortaleza</span><span class="city-state">CE (capital)</span></div>
                        <div class="city-row"><span class="city-name">Recife</span><span class="city-state">PE (capital)</span></div>
                        <div class="city-row"><span class="city-name">Bel√©m</span><span class="city-state">PA (capital)</span></div>
                        <div class="city-row"><span class="city-name">Porto Alegre</span><span class="city-state">RS (capital)</span></div>
                        <div class="city-row"><span class="city-name">Florian√≥polis</span><span class="city-state">SC (capital)</span></div>
                        <div class="city-row"><span class="city-name">Curitiba</span><span class="city-state">PR (capital)</span></div>
                        <div class="city-row"><span class="city-name">Campo Grande</span><span class="city-state">MS (capital)</span></div>
                        <div class="city-row"><span class="city-name">Goi√¢nia</span><span class="city-state">GO (capital)</span></div>
                        <div class="city-row"><span class="city-name">Macei√≥</span><span class="city-state">AL (capital)</span></div>
                        <div class="city-row"><span class="city-name">Macap√°</span><span class="city-state">AP (capital)</span></div>
                        <div class="city-row"><span class="city-name">S√£o Lu√≠s</span><span class="city-state">MA (capital)</span></div>
                        <div class="city-row"><span class="city-name">Jo√£o Pessoa</span><span class="city-state">PB (capital)</span></div>
                        <div class="city-row"><span class="city-name">Teresina</span><span class="city-state">PI (capital)</span></div>
                        <div class="city-row"><span class="city-name">Natal</span><span class="city-state">RN (capital)</span></div>
                        <div class="city-row"><span class="city-name">Aracaju</span><span class="city-state">SE (capital)</span></div>
                        <div class="city-row"><span class="city-name">Palmas</span><span class="city-state">TO (capital)</span></div>
                        <div class="city-row"><span class="city-name">Vit√≥ria</span><span class="city-state">ES (capital)</span></div>
                    </div>
                </div>
                <div class="tz-group">
                    <div class="tz-group-header" style="background:#059669">
                        <span>UTC‚àí2 ¬∑ Noronha</span>
                        <span class="clock" id="clock-utc2">--:--</span>
                    </div>
                    <div class="tz-group-body">
                        <div class="city-row"><span class="city-name">Fernando de Noronha</span><span class="city-state">PE (arquip√©lago)</span></div>
                        <div class="city-row"><span class="city-name">Ilha de Trindade</span><span class="city-state">ES (ilha oce√¢nica)</span></div>
                    </div>
                </div>
            </div>
            <p style="font-size:0.78rem;color:var(--text-muted);margin-top:16px;">* Mato Grosso do Sul adota o hor√°rio de Bras√≠lia (UTC‚àí3) na pr√°tica.</p>
        </section>

        <!-- WORLD SECTION -->
        <section class="section-block">
            <h2>üåç Fusos Hor√°rios do Mundo</h2>

            <div class="world-grid" id="world-clocks">
                <!-- Populated by JS -->
            </div>
        </section>
    </div>

    <footer>
        <a href="/configuracoes/" class="btn-settings">‚öôÔ∏è Configura√ß√µes</a>
        <div style="margin-top: 30px; font-size: 0.85rem; color: var(--text-muted); text-align: center; line-height: 1.8;">
            ¬© 2026 dataehora.com.br<br>
            <a href="mailto:contato@dataehora.com.br" style="color: var(--text-muted); text-decoration: underline;">contato@dataehora.com.br</a><br>
            <br>
            <a href="/privacidade/" style="color: var(--text-muted); text-decoration: underline;">Pol√≠tica de Privacidade</a> | 
            <a href="/termos/" style="color: var(--text-muted); text-decoration: underline;">Termos de Uso</a>
        </div>
    </footer>

    <script>
        // World timezone data
        const worldZones = [
            { flag: 'üáßüá∑', city: 'Bras√≠lia', country: 'Brasil', tz: 'America/Sao_Paulo', utc: 'UTC‚àí3' },
            { flag: 'üáßüá∑', city: 'Manaus', country: 'Brasil (AM)', tz: 'America/Manaus', utc: 'UTC‚àí4' },
            { flag: 'üá∫üá∏', city: 'Nova York', country: 'EUA (Leste)', tz: 'America/New_York', utc: 'UTC‚àí5/‚àí4' },
            { flag: 'üá∫üá∏', city: 'Los Angeles', country: 'EUA (Pac√≠fico)', tz: 'America/Los_Angeles', utc: 'UTC‚àí8/‚àí7' },
            { flag: 'üá®üá¶', city: 'Toronto', country: 'Canad√°', tz: 'America/Toronto', utc: 'UTC‚àí5/‚àí4' },
            { flag: 'üá≤üáΩ', city: 'Cidade do M√©xico', country: 'M√©xico', tz: 'America/Mexico_City', utc: 'UTC‚àí6/‚àí5' },
            { flag: 'üá¶üá∑', city: 'Buenos Aires', country: 'Argentina', tz: 'America/Argentina/Buenos_Aires', utc: 'UTC‚àí3' },
            { flag: 'üá®üá±', city: 'Santiago', country: 'Chile', tz: 'America/Santiago', utc: 'UTC‚àí4/‚àí3' },
            { flag: 'üáµüáπ', city: 'Lisboa', country: 'Portugal', tz: 'Europe/Lisbon', utc: 'UTC+0/+1' },
            { flag: 'üá¨üáß', city: 'Londres', country: 'Reino Unido', tz: 'Europe/London', utc: 'UTC+0/+1' },
            { flag: 'üá´üá∑', city: 'Paris', country: 'Fran√ßa', tz: 'Europe/Paris', utc: 'UTC+1/+2' },
            { flag: 'üá©üá™', city: 'Berlim', country: 'Alemanha', tz: 'Europe/Berlin', utc: 'UTC+1/+2' },
            { flag: 'üáÆüáπ', city: 'Roma', country: 'It√°lia', tz: 'Europe/Rome', utc: 'UTC+1/+2' },
            { flag: 'üá∑üá∫', city: 'Moscou', country: 'R√∫ssia', tz: 'Europe/Moscow', utc: 'UTC+3' },
            { flag: 'üá¶üá™', city: 'Dubai', country: 'Emirados √Årabes', tz: 'Asia/Dubai', utc: 'UTC+4' },
            { flag: 'üáÆüá≥', city: 'Mumbai', country: '√çndia', tz: 'Asia/Kolkata', utc: 'UTC+5:30' },
            { flag: 'üá®üá≥', city: 'Pequim', country: 'China', tz: 'Asia/Shanghai', utc: 'UTC+8' },
            { flag: 'üáØüáµ', city: 'T√≥quio', country: 'Jap√£o', tz: 'Asia/Tokyo', utc: 'UTC+9' },
            { flag: 'üá∞üá∑', city: 'Seul', country: 'Coreia do Sul', tz: 'Asia/Seoul', utc: 'UTC+9' },
            { flag: 'üá¶üá∫', city: 'Sydney', country: 'Austr√°lia', tz: 'Australia/Sydney', utc: 'UTC+10/+11' },
            { flag: 'üáøüá¶', city: 'Joanesburgo', country: '√Åfrica do Sul', tz: 'Africa/Johannesburg', utc: 'UTC+2' },
            { flag: 'üá≥üá¨', city: 'Lagos', country: 'Nig√©ria', tz: 'Africa/Lagos', utc: 'UTC+1' },
        ];

        // Build world clocks HTML
        const container = document.getElementById('world-clocks');
        worldZones.forEach((z, i) => {
            const card = document.createElement('div');
            card.className = 'world-tz-card';
            card.innerHTML = `
                <span class="flag">${z.flag}</span>
                <div class="info">
                    <div class="city-label">${z.city}</div>
                    <div class="utc-label">${z.country} ¬∑ ${z.utc}</div>
                </div>
                <div class="live-time" id="wtz-${i}">--:--:--</div>
            `;
            container.appendChild(card);
        });

        // Time formatters
        const timeOpts = { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false };
        const timeOptsShort = { hour: '2-digit', minute: '2-digit', hour12: false };

        function getFormatter(tz) {
            return new Intl.DateTimeFormat('pt-BR', { ...timeOpts, timeZone: tz });
        }
        function getShortFormatter(tz) {
            return new Intl.DateTimeFormat('pt-BR', { ...timeOptsShort, timeZone: tz });
        }

        // Brazil timezone formatters
        const fmtUtc5 = getFormatter('America/Rio_Branco');
        const fmtUtc4 = getFormatter('America/Manaus');
        const fmtUtc3 = getFormatter('America/Sao_Paulo');
        const fmtUtc2 = getFormatter('America/Noronha');

        const fmtUtc5s = getShortFormatter('America/Rio_Branco');
        const fmtUtc4s = getShortFormatter('America/Manaus');
        const fmtUtc3s = getShortFormatter('America/Sao_Paulo');
        const fmtUtc2s = getShortFormatter('America/Noronha');

        // World formatters
        const worldFormatters = worldZones.map(z => getFormatter(z.tz));

        function updateClocks() {
            const now = new Date();

            // Brazil legend
            document.getElementById('time-utc5').textContent = fmtUtc5.format(now);
            document.getElementById('time-utc4').textContent = fmtUtc4.format(now);
            document.getElementById('time-utc3').textContent = fmtUtc3.format(now);
            document.getElementById('time-utc2').textContent = fmtUtc2.format(now);

            // Brazil group headers
            document.getElementById('clock-utc5').textContent = fmtUtc5s.format(now);
            document.getElementById('clock-utc4').textContent = fmtUtc4s.format(now);
            document.getElementById('clock-utc3').textContent = fmtUtc3s.format(now);
            document.getElementById('clock-utc2').textContent = fmtUtc2s.format(now);

            // World clocks
            worldFormatters.forEach((fmt, i) => {
                const el = document.getElementById(`wtz-${i}`);
                if (el) el.textContent = fmt.format(now);
            });
        }

        updateClocks();
        setInterval(updateClocks, 1000);

        // === MAP TOOLTIP ===
        const tooltip = document.getElementById('map-tooltip');
        const ttState = document.getElementById('tt-state');
        const ttTz = document.getElementById('tt-tz');
        const ttTime = document.getElementById('tt-time');

        const tzFormatters = {
            'America/Rio_Branco': getFormatter('America/Rio_Branco'),
            'America/Manaus': getFormatter('America/Manaus'),
            'America/Sao_Paulo': getFormatter('America/Sao_Paulo'),
            'America/Noronha': getFormatter('America/Noronha'),
        };

        function getStateTime(tzId) {
            const fmt = tzFormatters[tzId];
            return fmt ? fmt.format(new Date()) : '--:--:--';
        }

        function attachMapListeners() {
            document.querySelectorAll('.tz-state').forEach(el => {
                el.addEventListener('mouseenter', function(e) {
                    ttState.textContent = this.dataset.nome;
                    ttTz.textContent = this.dataset.tz;
                    ttTime.textContent = getStateTime(this.dataset.tzid);
                    tooltip.classList.add('visible');
                });
                el.addEventListener('mousemove', function(e) {
                    const x = e.clientX + 14;
                    const y = e.clientY - 10;
                    const tw = tooltip.offsetWidth;
                    const th = tooltip.offsetHeight;
                    tooltip.style.left = (x + tw > window.innerWidth ? e.clientX - tw - 14 : x) + 'px';
                    tooltip.style.top = (y + th > window.innerHeight ? e.clientY - th - 10 : y) + 'px';
                    ttTime.textContent = getStateTime(this.dataset.tzid);
                });
                el.addEventListener('mouseleave', function() {
                    tooltip.classList.remove('visible');
                });
            });
        }

        // Load Brazil map SVG dynamically
        fetch('/assets/brazil-tz-map.svg')
            .then(r => r.text())
            .then(svgText => {
                const container = document.getElementById('brazil-map-container');
                container.innerHTML = svgText;
                attachMapListeners();
            })
            .catch(() => {
                const container = document.getElementById('brazil-map-container');
                container.style.padding = '20px';
                container.style.color = 'var(--text-muted)';
                container.textContent = 'Mapa n√£o dispon√≠vel.';
            });
    </script>
</body>
</html>
