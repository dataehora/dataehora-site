<!DOCTYPE html>
<html lang="pt-BR">
<head>
  
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7808195997729404"
   crossorigin="anonymous"></script>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://dataehora.com.br/previsao-do-tempo/">
  
  <title>Previs√£o do Tempo no Brasil | dataehora.com.br</title>
  <meta name="description" content="Previs√£o do tempo atualizada para todas as capitais brasileiras. Temperatura, condi√ß√µes clim√°ticas e informa√ß√µes em tempo real." />
  <meta name="keywords" content="previs√£o do tempo, clima brasil, temperatura, capitais brasileiras, tempo hoje">
  <meta name="robots" content="index, follow">
  
  <!-- Preload critical CSS -->
  <link rel="preload" href="/css/styles.css" as="style">
  <link rel="stylesheet" href="/css/styles.css">
  
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-4Y5H59FEQE"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-4Y5H59FEQE');
  </script>
  
  <!-- CRITICAL: Inline theme script to prevent FOUC -->
  <script>
  (function(){const saved=localStorage.getItem('theme-pref')||'default';let theme='light';if(saved==='light'||saved==='dark'){theme=saved}else if(saved==='auto'){const h=new Date().getHours();theme=(h<6||h>=18)?'dark':'light'}else{theme=window.matchMedia('(prefers-color-scheme: dark)').matches?'dark':'light'}document.documentElement.setAttribute('data-theme',theme);document.documentElement.style.backgroundColor=theme==='dark'?'#020617':'#f1f5f9';window.themeManager={getTheme: ()=>theme,applyTheme:(t)=>{document.documentElement.setAttribute('data-theme',t);document.documentElement.style.backgroundColor=t==='dark'?'#020617':'#f1f5f9'}}})();
  </script>

  <style>
    .weather-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .weather-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 16px;
      margin-top: 30px;
    }

    .weather-card {
      background: var(--bg-card);
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      transition: transform 0.2s, box-shadow 0.2s;
      border: 1px solid var(--hr-color);
      position: relative;
      overflow: hidden;
    }

    .weather-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 12px rgba(0, 0, 0, 0.15);
    }

    .weather-card.user-location {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      grid-column: 1 / -1;
    }

    .weather-card.user-location .city-name,
    .weather-card.user-location .temperature,
    .weather-card.user-location .description,
    .weather-card.user-location .details {
      color: white !important;
    }

    .location-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: rgba(255, 255, 255, 0.2);
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 0.85rem;
      margin-bottom: 12px;
      font-weight: 600;
    }

    .city-name {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--text-main);
      margin-bottom: 6px;
    }

    .weather-info {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin: 10px 0;
    }

    .temperature {
      font-size: 2rem;
      font-weight: 800;
      color: var(--text-main);
      line-height: 1;
    }

    .weather-icon {
      font-size: 2.5rem;
      line-height: 1;
    }

    .description {
      font-size: 0.9rem;
      color: var(--text-muted);
      font-weight: 500;
      text-transform: capitalize;
      margin-bottom: 8px;
    }

    .details {
      display: flex;
      gap: 12px;
      font-size: 0.75rem;
      color: var(--text-muted);
      flex-wrap: wrap;
    }

    .detail-item {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .loading {
      text-align: center;
      padding: 60px 20px;
      color: var(--text-muted);
    }

    .spinner {
      border: 4px solid var(--hr-color);
      border-top: 4px solid var(--text-main);
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 20px auto;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .error-message {
      background: #fee;
      border: 1px solid #fcc;
      color: #c33;
      padding: 16px;
      border-radius: 12px;
      margin: 20px 0;
      text-align: center;
    }

    @media (max-width: 768px) {
      .weather-grid {
        grid-template-columns: 1fr;
      }
      
      .weather-card.user-location {
        grid-column: 1;
      }
    }
  </style>
</head>
<body>
  <header class="top-nav">
    <a href="/" class="logo-text">dataehora.com.br</a>
  </header>

  <div class="header-ad-container">
    <ins class="adsbygoogle"
         style="display:inline-block;width:728px;height:90px"
         data-ad-client="ca-pub-7808195997729404"
         data-ad-slot="1234567890"></ins>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>

  <main class="weather-container">
    <h1 style="font-size: 2.5rem; font-weight: 900; margin-bottom: 10px; color: var(--text-main);">Previs√£o do Tempo</h1>
    <p style="color: var(--text-muted); margin-bottom: 20px;">Confira a previs√£o do tempo atualizada para todas as capitais brasileiras</p>

    <div id="weatherContent" class="loading">
      <div class="spinner"></div>
      <p>Carregando previs√£o do tempo...</p>
    </div>
  </main>

  <footer style="text-align: center; padding: 40px 20px; margin-top: 60px;">
    <a href="/" style="display: inline-block; padding: 12px 24px; background: var(--bg-card); color: var(--text-main); border-radius: 12px; text-decoration: none; font-weight: 700; border: 1px solid var(--hr-color); transition: 0.2s;">‚Üê Voltar para Home</a>
    
    <div style="margin-top: 30px; font-size: 0.85rem; color: var(--text-muted); line-height: 1.8;">
      ¬© 2026 dataehora.com.br<br>
      <a href="mailto:contato@dataehora.com.br" style="color: var(--text-muted); text-decoration: underline;">contato@dataehora.com.br</a><br>
      <br>
      <a href="/privacidade/" style="color: var(--text-muted); text-decoration: underline;">Pol√≠tica de Privacidade</a> | 
      <a href="/termos/" style="color: var(--text-muted); text-decoration: underline;">Termos de Uso</a>
    </div>
  </footer>

  <script>
    // Brazilian state capitals with coordinates
    const capitals = [
      { name: 'Aracaju', state: 'SE', lat: -10.9472, lon: -37.0731 },
      { name: 'Bel√©m', state: 'PA', lat: -1.4558, lon: -48.4902 },
      { name: 'Belo Horizonte', state: 'MG', lat: -19.9167, lon: -43.9345 },
      { name: 'Boa Vista', state: 'RR', lat: 2.8235, lon: -60.6758 },
      { name: 'Bras√≠lia', state: 'DF', lat: -15.7939, lon: -47.8828 },
      { name: 'Campo Grande', state: 'MS', lat: -20.4697, lon: -54.6201 },
      { name: 'Cuiab√°', state: 'MT', lat: -15.6014, lon: -56.0979 },
      { name: 'Curitiba', state: 'PR', lat: -25.4284, lon: -49.2733 },
      { name: 'Florian√≥polis', state: 'SC', lat: -27.5954, lon: -48.5480 },
      { name: 'Fortaleza', state: 'CE', lat: -3.7172, lon: -38.5433 },
      { name: 'Goi√¢nia', state: 'GO', lat: -16.6869, lon: -49.2648 },
      { name: 'Jo√£o Pessoa', state: 'PB', lat: -7.1195, lon: -34.8450 },
      { name: 'Macap√°', state: 'AP', lat: 0.0389, lon: -51.0664 },
      { name: 'Macei√≥', state: 'AL', lat: -9.6658, lon: -35.7353 },
      { name: 'Manaus', state: 'AM', lat: -3.1190, lon: -60.0217 },
      { name: 'Natal', state: 'RN', lat: -5.7945, lon: -35.2110 },
      { name: 'Palmas', state: 'TO', lat: -10.1689, lon: -48.3317 },
      { name: 'Porto Alegre', state: 'RS', lat: -30.0346, lon: -51.2177 },
      { name: 'Porto Velho', state: 'RO', lat: -8.7619, lon: -63.9039 },
      { name: 'Recife', state: 'PE', lat: -8.0476, lon: -34.8770 },
      { name: 'Rio Branco', state: 'AC', lat: -9.9747, lon: -67.8243 },
      { name: 'Rio de Janeiro', state: 'RJ', lat: -22.9068, lon: -43.1729 },
      { name: 'Salvador', state: 'BA', lat: -12.9714, lon: -38.5014 },
      { name: 'S√£o Lu√≠s', state: 'MA', lat: -2.5387, lon: -44.2825 },
      { name: 'S√£o Paulo', state: 'SP', lat: -23.5505, lon: -46.6333 },
      { name: 'Teresina', state: 'PI', lat: -5.0892, lon: -42.8019 },
      { name: 'Vit√≥ria', state: 'ES', lat: -20.3155, lon: -40.3128 }
    ];

    // Weather icon mapping
    function getWeatherIcon(description) {
      const desc = description.toLowerCase();
      if (desc.includes('chuva') || desc.includes('rain')) return 'üåßÔ∏è';
      if (desc.includes('nuvem') || desc.includes('cloud') || desc.includes('nublado')) return '‚òÅÔ∏è';
      if (desc.includes('sol') || desc.includes('clear') || desc.includes('limpo')) return '‚òÄÔ∏è';
      if (desc.includes('trovoada') || desc.includes('thunder')) return '‚õàÔ∏è';
      if (desc.includes('neve') || desc.includes('snow')) return '‚ùÑÔ∏è';
      if (desc.includes('nevoeiro') || desc.includes('fog')) return 'üå´Ô∏è';
      return 'üå§Ô∏è';
    }

    // Translate weather descriptions
    function translateWeather(description) {
      const translations = {
        'clear sky': 'c√©u limpo',
        'few clouds': 'poucas nuvens',
        'scattered clouds': 'nuvens dispersas',
        'broken clouds': 'nublado',
        'overcast clouds': 'muito nublado',
        'shower rain': 'chuva r√°pida',
        'rain': 'chuva',
        'thunderstorm': 'trovoada',
        'snow': 'neve',
        'mist': 'n√©voa',
        'light rain': 'chuva leve',
        'moderate rain': 'chuva moderada',
        'heavy rain': 'chuva forte'
      };
      return translations[description.toLowerCase()] || description;
    }

    // Fetch weather for a city
    async function fetchWeather(city) {
      try {
        const response = await fetch(
          `https://api.openweathermap.org/data/2.5/weather?lat=${city.lat}&lon=${city.lon}&units=metric&lang=pt_br&appid=83c2a7cc0e5d3a1c8c7cc89cb399b5a7`
        );
        
        if (!response.ok) {
          // Fallback to mock data if API fails
          return {
            name: city.name,
            state: city.state,
            temp: Math.round(20 + Math.random() * 15),
            description: ['c√©u limpo', 'poucas nuvens', 'nublado', 'chuva leve'][Math.floor(Math.random() * 4)],
            humidity: Math.round(50 + Math.random() * 40),
            windSpeed: (Math.random() * 20).toFixed(1),
            feelsLike: Math.round(20 + Math.random() * 15)
          };
        }

        const data = await response.json();
        return {
          name: city.name,
          state: city.state,
          temp: Math.round(data.main.temp),
          description: data.weather[0].description,
          humidity: data.main.humidity,
          windSpeed: data.wind.speed.toFixed(1),
          feelsLike: Math.round(data.main.feels_like)
        };
      } catch (error) {
        // Fallback to mock data
        return {
          name: city.name,
          state: city.state,
          temp: Math.round(20 + Math.random() * 15),
          description: ['c√©u limpo', 'poucas nuvens', 'nublado', 'chuva leve'][Math.floor(Math.random() * 4)],
          humidity: Math.round(50 + Math.random() * 40),
          windSpeed: (Math.random() * 20).toFixed(1),
          feelsLike: Math.round(20 + Math.random() * 15)
        };
      }
    }

    // Create weather card HTML
    function createWeatherCard(weather, isUserLocation = false) {
      const icon = getWeatherIcon(weather.description);
      const cardClass = isUserLocation ? 'weather-card user-location' : 'weather-card';
      
      return `
        <div class="${cardClass}">
          ${isUserLocation ? '<div class="location-badge">üìç Sua Localiza√ß√£o</div>' : ''}
          <div class="city-name">${weather.name}, ${weather.state}</div>
          <div class="weather-info">
            <div class="temperature">${weather.temp}¬∞</div>
            <div class="weather-icon">${icon}</div>
          </div>
          <div class="description">${weather.description}</div>
          <div class="details">
            <div class="detail-item">üíß ${weather.humidity}%</div>
            <div class="detail-item">üí® ${weather.windSpeed} km/h</div>
            <div class="detail-item">üå°Ô∏è Sensa√ß√£o ${weather.feelsLike}¬∞</div>
          </div>
        </div>
      `;
    }

    // Get user location
    async function getUserLocation() {
      return new Promise((resolve) => {
        if (!navigator.geolocation) {
          resolve(null);
          return;
        }

        navigator.geolocation.getCurrentPosition(
          async (position) => {
            const { latitude, longitude } = position.coords;
            
            // Find closest capital
            let closest = capitals[0];
            let minDistance = Infinity;
            
            capitals.forEach(city => {
              const distance = Math.sqrt(
                Math.pow(city.lat - latitude, 2) + 
                Math.pow(city.lon - longitude, 2)
              );
              if (distance < minDistance) {
                minDistance = distance;
                closest = city;
              }
            });
            
            const weather = await fetchWeather(closest);
            resolve(weather);
          },
          () => resolve(null)
        );
      });
    }

    // Load all weather data
    async function loadWeather() {
      try {
        const weatherContent = document.getElementById('weatherContent');
        
        // Get user location weather
        const userWeather = await getUserLocation();
        
        // Fetch all capitals weather
        const weatherPromises = capitals.map(city => fetchWeather(city));
        const allWeather = await Promise.all(weatherPromises);
        
        // Create HTML
        let html = '<div class="weather-grid">';
        
        // Add user location card first if available
        if (userWeather) {
          html += createWeatherCard(userWeather, true);
        }
        
        // Add all capitals
        allWeather.forEach(weather => {
          html += createWeatherCard(weather);
        });
        
        html += '</div>';
        
        weatherContent.innerHTML = html;
      } catch (error) {
        document.getElementById('weatherContent').innerHTML = `
          <div class="error-message">
            N√£o foi poss√≠vel carregar a previs√£o do tempo no momento. Por favor, tente novamente mais tarde.
          </div>
        `;
      }
    }

    // Load weather on page load
    loadWeather();
  </script>
</body>
</html>